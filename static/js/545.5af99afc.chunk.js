"use strict";(self.webpackChunkreact_practice=self.webpackChunkreact_practice||[]).push([[545],{5545:function(e,t,r){r.r(t),r.d(t,{default:function(){return T}});var n,a,s=r(5861),i=r(885),c=r(4687),d=r.n(c),o=r(2791),l=r(7022),p=r(3027),x=r(4266),u=r(3360),h=r(4569),g=r.n(h),f=function(){var e=(0,s.Z)(d().mark((function e(t){var r,n,a,s,i,c,o,l,p,x,u,h,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({appid:"7c0ca10b6b7d582c36f6c73564f8fbab",q:t}),n="http://api.openweathermap.org/geo/1.0/direct?".concat(r),e.prev=2,e.next=5,g().get(n);case 5:return a=e.sent,s=a.data[0],i=s.lat.toString(),c=s.lon.toString(),o=new URLSearchParams({appid:"7c0ca10b6b7d582c36f6c73564f8fbab",lat:i,lon:c,units:"metric"}),l="https://api.openweathermap.org/data/2.5/weather?".concat(o),e.next=13,g().get(l);case 13:return p=e.sent,x=p.data,u="https://api.openweathermap.org/data/2.5/forecast?".concat(o),e.next=18,g().get(u);case 18:return h=e.sent,f=h.data,e.abrupt("return",{currentWeather:x,forecastWeather:f});case 23:return e.prev=23,e.t0=e.catch(2),e.abrupt("return",e.t0);case 26:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}(),j=r(9140),m=r(168),b=r(6444),Z=b.ZP.span(n||(n=(0,m.Z)(["\n  font-size: 40px;\n  line-height: 1;\n  margin-right: 16px;\n"]))),v=r(5585),w=r(3853),y=r(184),z=function(e){var t=e.data,r=(0,o.useState)(),n=(0,i.Z)(r,2),a=n[0],s=n[1],c=t.name,d=t.sys,l=t.weather,p=t.main,u=t.wind,h=t.clouds,g=t.dt;return(0,o.useEffect)((function(){var e=new Date(1e3*g);s(e.toLocaleTimeString())}),[g]),(0,y.jsx)("div",{children:(0,y.jsxs)(j.Z,{bg:"info",className:"d-inline-block secondary",children:[(0,y.jsx)(j.Z.Header,{children:"Current weather at your city"}),(0,y.jsxs)(x.Z,{className:"p-3 border border-dark rounded-3 border-opacity-75",direction:"horizontal",gap:4,children:[(0,y.jsxs)(j.Z,{bg:"info",border:"info",children:[(0,y.jsxs)(x.Z,{direction:"horizontal",gap:2,children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)(j.Z.Title,{children:[c,", ",d.country]}),(0,y.jsx)(j.Z.Text,{children:a})]}),(0,y.jsxs)(Z,{children:[p.temp,"\xb0C"]})]}),(0,y.jsx)("div",{className:"d-flex justify-content-center",children:(0,y.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(l[0].icon,"@2x.png"),alt:l[0].main})}),(0,y.jsx)("p",{className:"text-center",children:l[0].description})]}),(0,y.jsxs)(j.Z,{bg:"dark",text:"white",className:"px-3 py-2",children:[(0,y.jsxs)(j.Z.Header,{children:["Feels like ",p.feels_like,"\xb0C"]}),(0,y.jsxs)(j.Z.Text,{children:[(0,y.jsx)(w.Hwd,{size:"24px"})," ",u.speed," m/s","  ",(u.deg>337.5||u.deg<=22.5)&&(0,y.jsx)(v.Xpc,{size:"24px"}),u.deg>22.5&&u.deg<=67.5&&(0,y.jsx)(v.$5p,{size:"24px"}),u.deg>67.5&&u.deg<=112.5&&(0,y.jsx)(v.HI7,{size:"24px"}),u.deg>112.5&&u.deg<=157.5&&(0,y.jsx)(v.Hbi,{size:"24px"}),u.deg>157.5&&u.deg<=202.5&&(0,y.jsx)(v.N5v,{size:"24px"}),u.deg>202.5&&u.deg<=247.5&&(0,y.jsx)(v._R8,{size:"24px"}),u.deg>247.5&&u.deg<=292.5&&(0,y.jsx)(v.VU,{size:"24px"}),u.deg>292.5&&u.deg<=337.5&&(0,y.jsx)(v.vt,{size:"24px"})]}),(0,y.jsxs)(j.Z.Text,{children:[(0,y.jsx)(v.eQ_,{size:"24px"})," ",p.pressure,"hPa"]}),(0,y.jsxs)(j.Z.Text,{children:[(0,y.jsx)(v.$2C,{size:"24px"})," ",p.humidity,"%"]}),(0,y.jsxs)(j.Z.Text,{children:[(0,y.jsx)(v.l64,{size:"24px"})," ",h.all,"%"]})]})]})]})})},k=r(9683),C=r(2702),S=b.ZP.div(a||(a=(0,m.Z)(["\n  width: 50%;\n"]))),N=r(8977);C.kL.register(C.uw,C.f$,C.od,C.jn,C.Dx,C.u,C.De);var L=function(e){var t=e.data,r=(0,o.useState)({labels:[],datasets:[{label:"daily temp",data:[],borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]}),n=(0,i.Z)(r,2),a=n[0],s=n[1];(0,o.useEffect)((function(){var e=t.list.map((function(e){return(0,N.Z)(new Date(1e3*e.dt),"d LLL h a")})),r=t.list.map((function(e){return e.main.temp.toString()}));s({labels:e,datasets:[{label:"temperature",data:r,borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]})}),[t]);return(0,y.jsx)(S,{children:(0,y.jsx)(k.x1,{options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"3 hour forecast for a 5 days"}}},data:a})})},T=function(){var e=(0,o.useState)(),t=(0,i.Z)(e,2),r=t[0],n=t[1],a=function(){var e=(0,s.Z)(d().mark((function e(t){var a,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.elements.city.value,e.next=4,f(a);case 4:s=e.sent,n(s),console.log(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,y.jsx)(l.Z,{children:(0,y.jsxs)("section",{children:[(0,y.jsx)("div",{className:"mb-4 d-flex flex-column align-items-center",children:(0,y.jsx)(p.Z,{onSubmit:a,children:(0,y.jsxs)(x.Z,{className:"p-3",direction:"horizontal",gap:3,children:[(0,y.jsx)(p.Z.Control,{type:"text",name:"city",placeholder:"Enter your city"}),(0,y.jsx)(u.Z,{type:"submit",variant:"dark",children:"Search"})]})})}),r&&(0,y.jsxs)(x.Z,{direction:"horizontal",gap:3,children:[(0,y.jsx)(z,{data:r.currentWeather}),(0,y.jsx)(L,{data:r.forecastWeather})]})]})})}}}]);
//# sourceMappingURL=545.5af99afc.chunk.js.map