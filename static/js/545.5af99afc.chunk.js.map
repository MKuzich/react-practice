{"version":3,"file":"static/js/545.5af99afc.chunk.js","mappings":"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","sources":["services/weatherApi.ts","pages/Weather/CurrentWeather.styled.tsx","pages/Weather/CurrentWeather.tsx","pages/Weather/ForecastWeather.styled.tsx","pages/Weather/ForecastWeather.tsx","pages/Weather/Weather.tsx"],"sourcesContent":["import axios from 'axios';\nimport { IResponse } from '../types/weather';\n\nexport const getCurrentWeather = async (\n  city: string\n): Promise<IResponse | never> => {\n  const searchCityParams = new URLSearchParams({\n    appid: '7c0ca10b6b7d582c36f6c73564f8fbab',\n    q: city,\n  });\n  const CITY_URL = `http://api.openweathermap.org/geo/1.0/direct?${searchCityParams}`;\n\n  try {\n    const res: { data: { lat: number; lon: number }[] } = await axios.get(\n      CITY_URL\n    );\n    const location = res.data[0];\n    const lat = location.lat.toString();\n    const lon = location.lon.toString();\n\n    const searchWeatherParams = new URLSearchParams({\n      appid: '7c0ca10b6b7d582c36f6c73564f8fbab',\n      lat,\n      lon,\n      units: 'metric',\n    });\n    const WEATHER_URL = `https://api.openweathermap.org/data/2.5/weather?${searchWeatherParams}`;\n    const currentData = await axios.get(WEATHER_URL);\n    const currentWeather = currentData.data;\n\n    const FORECAST_URL = `https://api.openweathermap.org/data/2.5/forecast?${searchWeatherParams}`;\n    const forecastData = await axios.get(FORECAST_URL);\n    const forecastWeather = forecastData.data;\n\n    return { currentWeather, forecastWeather };\n  } catch (error: any) {\n    return error;\n  }\n};\n","import styled from 'styled-components';\n\nexport const Temp = styled.span`\n  font-size: 40px;\n  line-height: 1;\n  margin-right: 16px;\n`;\n","import React, { useState, useEffect } from 'react';\nimport { IWeather } from '../../types/weather';\nimport { Stack, Card } from 'react-bootstrap';\nimport { Temp } from './CurrentWeather.styled';\nimport {\n  WiDirectionDownLeft,\n  WiDirectionDownRight,\n  WiDirectionDown,\n  WiDirectionLeft,\n  WiDirectionRight,\n  WiDirectionUpLeft,\n  WiDirectionUpRight,\n  WiDirectionUp,\n  WiHumidity,\n  WiCloudy,\n  WiBarometer,\n} from 'react-icons/wi';\nimport { FiWind } from 'react-icons/fi';\n\ninterface IProps {\n  data: IWeather;\n}\nexport const CurrentWeather: React.FC<IProps> = ({ data }) => {\n  const [date, setDate] = useState<string>();\n  const { name, sys, weather, main, wind, clouds, dt } = data;\n\n  useEffect(() => {\n    const currentDate = new Date(dt * 1000);\n    setDate(currentDate.toLocaleTimeString());\n  }, [dt]);\n  return (\n    <div>\n      <Card bg=\"info\" className=\"d-inline-block secondary\">\n        <Card.Header>Current weather at your city</Card.Header>\n        <Stack\n          className=\"p-3 border border-dark rounded-3 border-opacity-75\"\n          direction=\"horizontal\"\n          gap={4}\n        >\n          <Card bg=\"info\" border=\"info\">\n            <Stack direction=\"horizontal\" gap={2}>\n              <div>\n                <Card.Title>\n                  {name}, {sys.country}\n                </Card.Title>\n                <Card.Text>{date}</Card.Text>\n              </div>\n              <Temp>{main.temp}&#176;C</Temp>\n            </Stack>\n\n            <div className=\"d-flex justify-content-center\">\n              <img\n                src={`http://openweathermap.org/img/wn/${weather[0].icon}@2x.png`}\n                alt={weather[0].main}\n              />\n            </div>\n            <p className=\"text-center\">{weather[0].description}</p>\n          </Card>\n          <Card bg=\"dark\" text=\"white\" className=\"px-3 py-2\">\n            <Card.Header>Feels like {main.feels_like}&#176;C</Card.Header>\n            <Card.Text>\n              <FiWind size=\"24px\" /> {wind.speed} m/s{'  '}\n              {(wind.deg > 337.5 || wind.deg <= 22.5) && (\n                <WiDirectionUp size=\"24px\" />\n              )}\n              {wind.deg > 22.5 && wind.deg <= 67.5 && (\n                <WiDirectionUpRight size=\"24px\" />\n              )}\n              {wind.deg > 67.5 && wind.deg <= 112.5 && (\n                <WiDirectionRight size=\"24px\" />\n              )}\n              {wind.deg > 112.5 && wind.deg <= 157.5 && (\n                <WiDirectionDownRight size=\"24px\" />\n              )}\n              {wind.deg > 157.5 && wind.deg <= 202.5 && (\n                <WiDirectionDown size=\"24px\" />\n              )}\n              {wind.deg > 202.5 && wind.deg <= 247.5 && (\n                <WiDirectionDownLeft size=\"24px\" />\n              )}\n              {wind.deg > 247.5 && wind.deg <= 292.5 && (\n                <WiDirectionLeft size=\"24px\" />\n              )}\n              {wind.deg > 292.5 && wind.deg <= 337.5 && (\n                <WiDirectionUpLeft size=\"24px\" />\n              )}\n            </Card.Text>\n            <Card.Text>\n              <WiBarometer size=\"24px\" /> {main.pressure}hPa\n            </Card.Text>\n            <Card.Text>\n              <WiHumidity size=\"24px\" /> {main.humidity}%\n            </Card.Text>\n            <Card.Text>\n              <WiCloudy size=\"24px\" /> {clouds.all}%\n            </Card.Text>\n          </Card>\n        </Stack>\n      </Card>\n    </div>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  width: 50%;\n`;\n","import React, { useState, useEffect } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\nimport { Wrapper } from './ForecastWeather.styled';\nimport { IForecast } from '../../types/weather';\nimport { format } from 'date-fns';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\ninterface IInfo {\n  labels: string[];\n  datasets: [\n    {\n      label: string;\n      data: string[];\n      borderColor: string;\n      backgroundColor: string;\n    }\n  ];\n}\n\ninterface IProps {\n  data: IForecast;\n}\n\nexport const ForecastWeather: React.FC<IProps> = ({ data }) => {\n  const [info, setInfo] = useState<IInfo>({\n    labels: [],\n    datasets: [\n      {\n        label: 'daily temp',\n        data: [],\n        borderColor: 'rgb(53, 162, 235)',\n        backgroundColor: 'rgba(53, 162, 235, 0.5)',\n      },\n    ],\n  });\n\n  useEffect(() => {\n    const labelsArray = data.list.map(el => {\n      const date = format(new Date(el.dt * 1000), 'd LLL h a');\n      return date;\n    });\n    const dataArray = data.list.map(el => {\n      return el.main.temp.toString();\n    });\n\n    setInfo({\n      labels: labelsArray,\n      datasets: [\n        {\n          label: 'temperature',\n          data: dataArray,\n          borderColor: 'rgb(53, 162, 235)',\n          backgroundColor: 'rgba(53, 162, 235, 0.5)',\n        },\n      ],\n    });\n  }, [data]);\n\n  const options = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top' as const,\n      },\n      title: {\n        display: true,\n        text: '3 hour forecast for a 5 days',\n      },\n    },\n  };\n\n  return (\n    <Wrapper>\n      <Line options={options} data={info} />\n    </Wrapper>\n  );\n};\n","import React, { useState } from 'react';\nimport { Form, Button, Stack, Container } from 'react-bootstrap';\nimport { getCurrentWeather } from '../../services/weatherApi';\nimport { IResponse } from '../../types/weather';\nimport { CurrentWeather } from './CurrentWeather';\nimport { ForecastWeather } from './ForecastWeather';\n\ninterface FormElements extends HTMLFormControlsCollection {\n  city: HTMLInputElement;\n}\nconst Weather: React.FC = () => {\n  const [data, setData] = useState<IResponse>();\n\n  const onSubmitHandler = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const cityName = ((e.target as HTMLFormElement).elements as FormElements)\n      .city.value;\n    const res = await getCurrentWeather(cityName);\n    setData(res);\n    console.log(data);\n  };\n  return (\n    <Container>\n      <section>\n        <div className=\"mb-4 d-flex flex-column align-items-center\">\n          <Form onSubmit={onSubmitHandler}>\n            <Stack className=\"p-3\" direction=\"horizontal\" gap={3}>\n              <Form.Control\n                type=\"text\"\n                name=\"city\"\n                placeholder=\"Enter your city\"\n              />\n              <Button type=\"submit\" variant=\"dark\">\n                Search\n              </Button>\n            </Stack>\n          </Form>\n        </div>\n\n        {data && (\n          <Stack direction=\"horizontal\" gap={3}>\n            <CurrentWeather data={data.currentWeather} />\n            <ForecastWeather data={data.forecastWeather} />\n          </Stack>\n        )}\n      </section>\n    </Container>\n  );\n};\n\nexport default Weather;\n"],"names":["getCurrentWeather","city","searchCityParams","URLSearchParams","appid","q","CITY_URL","axios","res","location","data","lat","toString","lon","searchWeatherParams","units","WEATHER_URL","currentData","currentWeather","FORECAST_URL","forecastData","forecastWeather","Temp","styled","CurrentWeather","useState","date","setDate","name","sys","weather","main","wind","clouds","dt","useEffect","currentDate","Date","toLocaleTimeString","Card","bg","className","Stack","direction","gap","border","country","temp","src","icon","alt","description","text","feels_like","size","speed","deg","pressure","humidity","all","Wrapper","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","ForecastWeather","labels","datasets","label","borderColor","backgroundColor","info","setInfo","labelsArray","list","map","el","format","dataArray","options","responsive","plugins","legend","position","title","display","setData","onSubmitHandler","e","preventDefault","cityName","target","elements","value","console","log","Container","Form","onSubmit","type","placeholder","Button","variant"],"sourceRoot":""}